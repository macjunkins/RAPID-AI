{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "RAPID: Conversational Mode - Instructions",
            "detail": "Launch RAPID agent in Claude CLI and explore conversational workflows",
            "type": "shell",
            "command": "bash",
            "args": [
                "-lc",
                "cat <<EOT\nüöÄ RAPID Conversational Mode\n\n1. Run: claude\n2. Inside Claude CLI, enter: /rapid\n3. Then run commands such as:\n   ‚Ä¢ /rapid:create-doc prd-tmpl\n   ‚Ä¢ *task brownfield-create-epic\n   ‚Ä¢ *execute-checklist story-dod\n\nReference files:\n- src/rapid/rapid-config.yaml\n- src/rapid/tasks/\n- src/rapid/templates/\n\nTip: Use VS Code inputs below to generate specific commands.\nEOT"
            ],
            "presentation": {
                "echo": true,
                "reveal": "always",
                "panel": "new",
                "focus": false,
                "showReuseMessage": false,
                "clear": true
            }
        },
        {
            "label": "RAPID: Create Document",
            "detail": "Generate a conversational command for creating a document from template",
            "type": "shell",
            "command": "bash",
            "args": [
                "-lc",
                "TEMPLATE='${input:rapidTemplate}'; cat <<EOT\nüßæ Create RAPID document\n\n1. claude\n2. /rapid\n3. /rapid:create-doc $TEMPLATE\n\nTemplates live in src/rapid/templates/\nEOT"
            ],
            "presentation": {
                "echo": true,
                "reveal": "always",
                "panel": "new",
                "focus": false,
                "showReuseMessage": false,
                "clear": true
            }
        },
        {
            "label": "RAPID: Execute Task",
            "detail": "Generate a conversational command for executing a RAPID workflow task",
            "type": "shell",
            "command": "bash",
            "args": [
                "-lc",
                "TASK='${input:rapidTask}'; cat <<EOT\nüõ†Ô∏è Execute RAPID task\n\n1. claude\n2. /rapid\n3. *task $TASK\n\nTasks live in src/rapid/tasks/\nEOT"
            ],
            "presentation": {
                "echo": true,
                "reveal": "always",
                "panel": "new",
                "focus": false,
                "showReuseMessage": false,
                "clear": true
            }
        },
        {
            "label": "RAPID: Run Checklist",
            "detail": "Generate a conversational command for running a quality checklist",
            "type": "shell",
            "command": "bash",
            "args": [
                "-lc",
                "CHECKLIST='${input:rapidChecklist}'; cat <<EOT\n‚úÖ Run RAPID checklist\n\n1. claude\n2. /rapid\n3. *execute-checklist $CHECKLIST\n\nChecklists live in src/rapid/checklists/\nEOT"
            ],
            "presentation": {
                "echo": true,
                "reveal": "always",
                "panel": "new",
                "focus": false,
                "showReuseMessage": false,
                "clear": true
            }
        },
        {
            "label": "RAPID: Generate Story from Epic",
            "detail": "Generate story YAML from epic context using Claude CLI",
            "type": "shell",
            "command": "${workspaceFolder}/.vscode/core/scripts/generate-story-yaml.sh",
            "args": [
                "${input:epic}",
                "${input:story}",
                "${input:title}"
            ],
            "group": "build",
            "presentation": {
                "echo": true,
                "reveal": "always",
                "focus": true,
                "panel": "new",
                "showReuseMessage": false,
                "clear": true
            },
            "problemMatcher": []
        },
        {
            "label": "RAPID: Test Claude CLI",
            "detail": "Verify Claude CLI is installed and working",
            "type": "shell",
            "command": "claude",
            "args": [
                "--version"
            ],
            "presentation": {
                "echo": true,
                "reveal": "always",
                "panel": "new"
            }
        },
        {
            "label": "RAPID: Validate YAML Files",
            "detail": "Validate all YAML files in docs/ directory",
            "type": "shell",
            "command": "bash",
            "args": [
                "-lc",
                "for file in docs/**/*.yaml; do echo \"Validating $file...\"; yq eval . \"$file\" > /dev/null && echo \"‚úÖ $file valid\" || echo \"‚ùå $file invalid\"; done"
            ],
            "presentation": {
                "echo": true,
                "reveal": "always",
                "panel": "new"
            }
        },
        {
            "label": "RAPID: Query All Stories",
            "detail": "List all stories with status using yq",
            "type": "shell",
            "command": "bash",
            "args": [
                "-lc",
                "for file in docs/stories/*.yaml; do echo \"Story: $(yq eval '.story.id' \"$file\") - $(yq eval '.story.title' \"$file\") [$(yq eval '.story.status' \"$file\")]\"; done"
            ],
            "presentation": {
                "echo": true,
                "reveal": "always",
                "panel": "new"
            }
        },
        {
            "label": "RAPID: Show Epic Summary",
            "detail": "Display epic summary with story count",
            "type": "shell",
            "command": "bash",
            "args": [
                "-lc",
                "yq eval '.epic | \"Epic \" + (.id | tostring) + \": \" + .title + \" (\" + .status + \")\\nStories: \" + (.stories | length | tostring)' docs/prd/epic-${input:epic}.yaml"
            ],
            "presentation": {
                "echo": true,
                "reveal": "always",
                "panel": "new"
            }
        }
    ],
    "inputs": [
        {
            "id": "epic",
            "description": "Epic number",
            "default": "1",
            "type": "promptString"
        },
        {
            "id": "story",
            "description": "Story number",
            "default": "1",
            "type": "promptString"
        },
        {
            "id": "title",
            "description": "Story title",
            "default": "New Story",
            "type": "promptString"
        },
        {
            "id": "rapidTemplate",
            "description": "Template id from src/rapid/templates (e.g., prd-tmpl)",
            "default": "prd-tmpl",
            "type": "promptString"
        },
        {
            "id": "rapidTask",
            "description": "RAPID task id from src/rapid/tasks (e.g., brownfield-create-epic)",
            "default": "brownfield-create-epic",
            "type": "promptString"
        },
        {
            "id": "rapidChecklist",
            "description": "Checklist id from src/rapid/checklists (e.g., story-dod-checklist)",
            "default": "story-dod-checklist",
            "type": "promptString"
        }
    ]
}
